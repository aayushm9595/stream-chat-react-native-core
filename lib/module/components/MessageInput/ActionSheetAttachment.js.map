{"version":3,"sources":["ActionSheetAttachment.tsx"],"names":["iconGallery","require","iconClose","iconFolder","ActionSheetButtonContainer","styled","View","theme","messageInput","actionSheet","buttonContainer","css","ActionSheetButtonText","Text","buttonText","ActionSheetTitleContainer","titleContainer","ActionSheetTitleText","titleText","AttachmentActionSheetItem","props","icon","key","testID","text","ActionSheetAttachment","closeAttachActionSheet","pickFile","pickImage","setAttachActionSheetRef","styles","t","index","setTimeout"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { ActionSheetCustom } from 'react-native-actionsheet';\n\nimport type {\n  ImageRequireSource,\n  StyleProp,\n  TextStyle,\n  ViewStyle,\n} from 'react-native';\n\nimport { IconSquare } from '../IconSquare';\n\nimport { useTranslationContext } from '../../contexts/translationContext/TranslationContext';\n\nimport { styled } from '../../styles/styledComponents';\n\nconst iconGallery: ImageRequireSource = require('../../images/icons/icon_attach-media.png');\nconst iconClose: ImageRequireSource = require('../../images/icons/icon_close.png');\nconst iconFolder: ImageRequireSource = require('../../images/icons/icon_folder.png');\n\nconst ActionSheetButtonContainer = styled.View`\n  align-items: center;\n  flex-direction: row;\n  justify-content: flex-start;\n  padding-left: 20px;\n  width: 100%;\n  ${({ theme }) => theme.messageInput.actionSheet.buttonContainer.css};\n`;\n\nconst ActionSheetButtonText = styled.Text`\n  ${({ theme }) => theme.messageInput.actionSheet.buttonText.css};\n`;\n\nconst ActionSheetTitleContainer = styled.View`\n  align-items: center;\n  flex-direction: row;\n  height: 100%;\n  justify-content: space-between;\n  padding-horizontal: 20px;\n  width: 100%;\n  ${({ theme }) => theme.messageInput.actionSheet.titleContainer.css};\n`;\n\nconst ActionSheetTitleText = styled.Text`\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.actionSheet.titleText.css};\n`;\n\ntype AttachmentActionSheetItemProps = {\n  icon: ImageRequireSource;\n  key: string | number;\n  text: string;\n  testID?: string;\n};\n\nconst AttachmentActionSheetItem: React.FC<AttachmentActionSheetItemProps> = (\n  props,\n) => {\n  const { icon, key, testID, text } = props;\n  return (\n    <ActionSheetButtonContainer key={key} testID={testID}>\n      <IconSquare icon={icon} />\n      <ActionSheetButtonText>{text}</ActionSheetButtonText>\n    </ActionSheetButtonContainer>\n  );\n};\n\nexport type ActionSheetStyles = {\n  body?: StyleProp<ViewStyle>;\n  buttonBox?: StyleProp<ViewStyle>;\n  buttonText?: StyleProp<TextStyle>;\n  cancelButtonBox?: StyleProp<ViewStyle>;\n  messageBox?: StyleProp<ViewStyle>;\n  messageText?: StyleProp<TextStyle>;\n  overlay?: StyleProp<TextStyle>;\n  titleBox?: StyleProp<ViewStyle>;\n  titleText?: StyleProp<TextStyle>;\n  wrapper?: StyleProp<ViewStyle>;\n};\n\nexport type ActionSheetProps = {\n  closeAttachActionSheet: () => void;\n  pickFile: () => Promise<void>;\n  pickImage: () => Promise<void>;\n  setAttachActionSheetRef: (ref: ActionSheetCustom | null) => void;\n  styles?: ActionSheetStyles;\n};\n\nexport const ActionSheetAttachment: React.FC<ActionSheetProps> = (props) => {\n  const {\n    closeAttachActionSheet,\n    pickFile,\n    pickImage,\n    setAttachActionSheetRef,\n    styles,\n  } = props;\n\n  const { t } = useTranslationContext();\n\n  return (\n    <ActionSheetCustom\n      onPress={(index) => {\n        // https://github.com/beefe/react-native-actionsheet/issues/36\n        setTimeout(() => {\n          switch (index) {\n            case 0:\n              pickImage();\n              break;\n            case 1:\n              pickFile();\n              break;\n            default:\n          }\n        }, 201); // 201ms to fire after the animation is complete https://github.com/beefe/react-native-actionsheet/blob/master/lib/ActionSheetCustom.js#L78\n      }}\n      options={[\n        <AttachmentActionSheetItem\n          icon={iconGallery}\n          key='upload-photo-item'\n          testID='upload-photo-item'\n          text={t('Upload a photo')}\n        />,\n        <AttachmentActionSheetItem\n          icon={iconFolder}\n          key='upload-file-item'\n          testID='upload-file-item'\n          text={t('Upload a file')}\n        />,\n      ]}\n      ref={setAttachActionSheetRef}\n      styles={styles}\n      title={\n        <ActionSheetTitleContainer>\n          <ActionSheetTitleText>{t('Add a file')}</ActionSheetTitleText>\n          <IconSquare icon={iconClose} onPress={closeAttachActionSheet} />\n        </ActionSheetTitleContainer>\n      }\n    />\n  );\n};\n"]}