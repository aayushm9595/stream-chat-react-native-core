{"version":3,"sources":["useStreami18n.ts"],"names":["useStreami18n","i18nInstance","setTranslators","streami18n","Streami18n","language","registerSetLanguageCallback","t","prevTranslator","getTranslators","then","translator"],"mappings":";;;;;;;;;AAAA;;AAGA;;;;;;AAEO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,OAMvB;AAAA,MALJC,YAKI,QALJA,YAKI;AAAA,MAJJC,cAII,QAJJA,cAII;AACJ,wBAAU,YAAM;AACd,QAAIC,UAAJ;;AAEA,QAAIF,YAAY,YAAYG,sBAA5B,EAAwC;AACtCD,MAAAA,UAAU,GAAGF,YAAb;AACD,KAFD,MAEO;AACLE,MAAAA,UAAU,GAAG,IAAIC,sBAAJ,CAAe;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAf,CAAb;AACD;;AAEDF,IAAAA,UAAU,CAACG,2BAAX,CAAuC,UAACC,CAAD;AAAA,aACrCL,cAAc,CAAC,UAACM,cAAD;AAAA,+CAA0BA,cAA1B;AAA0CD,UAAAA,CAAC,EAADA;AAA1C;AAAA,OAAD,CADuB;AAAA,KAAvC;AAGAJ,IAAAA,UAAU,CAACM,cAAX,GAA4BC,IAA5B,CAAiC,UAACC,UAAD,EAAgB;AAC/C,UAAIA,UAAJ,EAAgBT,cAAc,CAACS,UAAD,CAAd;AACjB,KAFD;AAGD,GAfD,EAeG,CAACV,YAAD,CAfH;AAgBD,CAvBM","sourcesContent":["import { useEffect } from 'react';\n\nimport type { TranslationContextValue } from '../../../contexts/translationContext/TranslationContext';\nimport { Streami18n } from '../../../utils/Streami18n';\n\nexport const useStreami18n = ({\n  i18nInstance,\n  setTranslators,\n}: {\n  setTranslators: React.Dispatch<React.SetStateAction<TranslationContextValue>>;\n  i18nInstance?: Streami18n;\n}) => {\n  useEffect(() => {\n    let streami18n: Streami18n;\n\n    if (i18nInstance instanceof Streami18n) {\n      streami18n = i18nInstance;\n    } else {\n      streami18n = new Streami18n({ language: 'en' });\n    }\n\n    streami18n.registerSetLanguageCallback((t: (key: string) => string) =>\n      setTranslators((prevTranslator) => ({ ...prevTranslator, t })),\n    );\n    streami18n.getTranslators().then((translator) => {\n      if (translator) setTranslators(translator);\n    });\n  }, [i18nInstance]);\n};\n"]}